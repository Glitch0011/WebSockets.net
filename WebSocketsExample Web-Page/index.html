<!DOCTYPE html>
<html>
    <head>
        <title>Example Webpage</title>
	    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	    <script src="http://jquery-websocket.googlecode.com/files/jquery.websocket-0.0.1.js"></script>
        <script src="ws_events_dispatcher.js"></script>

        <style>
            .notification
            {
                background-color: #d0e4fe;
            }
        </style>
        <script type="text/javascript">

            var server = new FancyWebSocket("ws://localhost:8000");

            server.bind('chat', function (msg) {
                $('#messages').prepend("<li class='connected'>" + msg.msg + "</li>");
            })
            server.bind('open', function () {
                server.send("login", { name: "Tom" });
            })
            server.bind("loginAccepted", function () {
                console.log("Login Accepted");
            })
            server.bind("notification", function (msg) {
                $('#notifications').prepend("<span class='notification'>" + msg.msg + "</span>");
            })

		    function SendTextBox()
            {
		        server.send(
                  'chat',
                  {
                      name: 'Test',
                      message: $("#textbox").val()
                  }
                );
		    }
	    </script>
    </head>
    <body>
        <div>
	        <input id="textbox" value="abc" />
	        <button onclick="SendTextBox()">Send</button>
        </div>
        <div id="notifications">
            
        </div>
    </body>
</html>